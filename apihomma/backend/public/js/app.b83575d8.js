(function(e){function t(t){for(var r,a,u=t[0],o=t[1],s=t[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==c[o]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},c={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var p=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0fd8":function(e,t,n){},"1f8d":function(e,t,n){"use strict";n("f8de")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=n("b640"),i=n.n(c),a={id:"app"},u=Object(r["f"])("img",{alt:"logo",src:i.a},null,-1);function o(e,t,n,c,i,o){var s=Object(r["v"])("router-view");return Object(r["o"])(),Object(r["d"])("div",a,[u,Object(r["f"])(s)])}var s=n("5502"),p={name:"App",components:{},setup:function(){var e=Object(s["b"])();return{store:e}},mounted:function(){Object(s["b"])().dispatch("refreshAllRecipesFromDB")}};n("8d8a");p.render=o;var d=p,f=n("6c02"),l=Object(r["C"])("data-v-219a3262");Object(r["r"])("data-v-219a3262");var b=Object(r["f"])("h1",null,"Tänne reseptejä",-1),j={class:"reseptilistakomponentti"},O={key:0,class:"lista"};Object(r["p"])();var m=l((function(e,t,n,c,i,a){var u=Object(r["v"])("lisäysform"),o=Object(r["v"])("reseptikomponentti");return Object(r["o"])(),Object(r["d"])("div",null,[b,Object(r["f"])("div",j,[Object(r["f"])(u),c.reseptit?(Object(r["o"])(),Object(r["d"])("div",O,[(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(c.reseptit,(function(t){return Object(r["o"])(),Object(r["d"])("div",{class:"laatikko",key:t.id},[Object(r["f"])(o,{resepti:t,onClick:function(n){return e.$router.push({name:"Resepti",params:{id:t.id}})}},null,8,["resepti","onClick"])])})),128))])):Object(r["e"])("",!0)])])})),v=(n("b0c0"),Object(r["C"])("data-v-de44038c"));Object(r["r"])("data-v-de44038c");var h={class:"reseptikomponentti"},R=Object(r["f"])("p",null,"Tähän vaikka kuva",-1);Object(r["p"])();var g=v((function(e,t,n,c,i,a){return Object(r["o"])(),Object(r["d"])("div",h,[R,Object(r["f"])("h3",null,Object(r["x"])(n.resepti.name),1),Object(r["f"])("p",null,Object(r["x"])(n.resepti.content),1)])})),k={name:"reseptikomponentti",props:{resepti:Object},data:function(){return{}}};n("1f8d");k.render=g,k.__scopeId="data-v-de44038c";var _=k,y=Object(r["C"])("data-v-73e72dfa");Object(r["r"])("data-v-73e72dfa");var w={class:"formkomponentti"},x={class:"container"},E=Object(r["f"])("label",{for:"nimi"},"Reseptin nimi",-1),D=Object(r["f"])("label",{for:"ohjeet"},"Ohjeet",-1);Object(r["p"])();var P=y((function(e,t,n,c,i,a){return Object(r["o"])(),Object(r["d"])("div",w,[Object(r["f"])("div",x,[Object(r["f"])("form",null,[E,Object(r["B"])(Object(r["f"])("input",{id:"nimi",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.state.name=e})},null,512),[[r["z"],c.state.name]]),D,Object(r["B"])(Object(r["f"])("textarea",{id:"ohjeet",rows:"4","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.state.content=e})},null,512),[[r["z"],c.state.content]]),Object(r["f"])("button",{type:"button",onClick:t[3]||(t[3]=function(){return c.lisaaResepti.apply(c,arguments)})},"Lisää")])])])})),I={name:"lisäysform",setup:function(){var e=Object(r["s"])({name:"",content:""}),t=Object(s["b"])();function n(){e.name&&e.content&&(t.dispatch("addRecipe",{name:e.name,content:e.content}),e.name="",e.content="")}return{state:e,lisaaResepti:n}}};n("7090");I.render=P,I.__scopeId="data-v-73e72dfa";var C=I,S=(n("7db0"),n("c740"),n("caad"),n("c975"),n("a434"),n("2532"),n("96cf"),n("1da1")),A=n("ca4f"),T=Object(s["a"])({state:{reseptit_used_id:[1,2,3,4,5],reseptit:[{id:1,name:"Alpakka",content:"Paista ja nauti"},{id:2,name:"Paahtoleipä",content:"Paahda ja syö"},{id:3,name:"Roiskeläppä",content:"Mikroon ja polta suu"},{id:4,name:"Tonnikalapurkki",content:"Avaa ja maiskis"},{id:5,name:"Omena",content:"Siis vaan syö"}]},mutations:{ADD_RECIPE:function(e,t){e.reseptit_used_id.push(t.id),e.reseptit.push(t)},DELETE_RECIPE:function(e,t){var n=e.reseptit_used_id.indexOf(t);e.reseptit_used_id.splice(n,1);var r=e.reseptit.findIndex((function(e){return e.id==t}));e.reseptit.splice(r,1)},REFRESH_ALL_RECIPES:function(e,t){e.reseptit=t},REFRESH_USED_ID:function(e,t){e.reseptit_used_id=t}},actions:{addRecipe:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var r,c,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.getters,i=c.getUnusedID,a=t,a.id=i,r("ADD_RECIPE",a),n.next=7,A.addRecipe(a);case 7:case"end":return n.stop()}}),n)})))()},deleteRecipe:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,A.deleteRecipe(t);case 3:r("DELETE_RECIPE",t);case 4:case"end":return n.stop()}}),n)})))()},refreshAllRecipesFromDB:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var n,r,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,A.getAllRecipes();case 3:for(r=t.sent,c=[],i=0;i<r.length;i++)c.push(r[i].id);n("REFRESH_ALL_RECIPES",r),n("REFRESH_USED_ID",c);case 8:case"end":return t.stop()}}),t)})))()}},getters:{getRecipe:function(e){return function(t){return e.reseptit.find((function(e){return e.id==t}))}},getUnusedID:function(e){for(var t=1;;t++)if(!e.reseptit_used_id.includes(t))break;return t}}}),L={name:"reseptilista",components:{reseptikomponentti:_,"lisäysform":C},setup:function(){var e=Object(r["s"])({}),t=Object(r["b"])((function(){return T.state.reseptit}));return{state:e,reseptit:t}}};n("ac31");L.render=m,L.__scopeId="data-v-219a3262";var F=L,U=Object(r["C"])("data-v-141d29d4");Object(r["r"])("data-v-141d29d4");var M={class:"reseptisivu"},B=Object(r["f"])("p",null,"Tähän vaikka kuva",-1);Object(r["p"])();var H=U((function(e,t,n,c,i,a){return Object(r["o"])(),Object(r["d"])("div",M,[Object(r["f"])("button",{onClick:t[1]||(t[1]=function(){return c.deleteRecipe.apply(c,arguments)})},"Delete"),B,Object(r["f"])("h3",null,Object(r["x"])(c.resepti.name),1),Object(r["f"])("p",null,Object(r["x"])(c.resepti.content),1)])})),z={name:"reseptisivu",setup:function(){var e=Object(r["s"])({}),t=Object(s["b"])(),n=Object(f["c"])(),c=Object(f["d"])(),i=Object(r["b"])((function(){return t.state.reseptit})),a=t.getters.getRecipe(n.params.id);function u(){console.log("Deleted "+a.name),t.dispatch("deleteRecipe",a.id),c.push("/")}return{state:e,reseptit:i,resepti:a,deleteRecipe:u}}};n("a3e6");z.render=H,z.__scopeId="data-v-141d29d4";var J=z,V=[{path:"/",name:"Reseptilista",component:F},{path:"/resepti/:id",name:"Resepti",component:J}],$=Object(f["a"])({history:Object(f["b"])(),routes:V}),q=$;Object(r["c"])(d).use(T).use(q).mount("#app")},7090:function(e,t,n){"use strict";n("781c")},"781c":function(e,t,n){},"88c6":function(e,t,n){},"8d8a":function(e,t,n){"use strict";n("88c6")},a3e6:function(e,t,n){"use strict";n("f613")},ac31:function(e,t,n){"use strict";n("0fd8")},b640:function(e,t,n){e.exports=n.p+"img/logo.a9de5773.jpg"},ca4f:function(e,t,n){"use strict";n.r(t),n.d(t,"getAllRecipes",(function(){return i})),n.d(t,"addRecipe",(function(){return u})),n.d(t,"updateRecipe",(function(){return s})),n.d(t,"deleteRecipe",(function(){return d}));n("96cf");var r=n("1da1"),c=n("bc3a");function i(){return a.apply(this,arguments)}function a(){return a=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("http://localhost:8080/api/recipes");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}function u(e){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.post("http://localhost:8080/api/recipes",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.patch("http://localhost:8080/api/recipes/".concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.delete("http://localhost:8080/api/recipes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},f613:function(e,t,n){},f8de:function(e,t,n){}});
//# sourceMappingURL=app.b83575d8.js.map