(function(e){function t(t){for(var r,a,u=t[0],o=t[1],s=t[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==c[o]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},c={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var p=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11b2":function(e,t,n){},2496:function(e,t,n){"use strict";n("3342")},"25f0":function(e,t,n){"use strict";n("11b2")},3342:function(e,t,n){},3929:function(e,t,n){"use strict";n("b7ad")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=n("b640"),i=n.n(c),a={id:"app"};function u(e,t,n,c,u,o){var s=Object(r["v"])("router-view");return Object(r["o"])(),Object(r["d"])("div",a,[Object(r["f"])("img",{alt:"logo",src:i.a,onClick:t[1]||(t[1]=function(e){return c.router.push("/")})}),Object(r["f"])(s)])}var o=n("5502"),s=n("6c02"),p={name:"App",components:{},setup:function(){var e=Object(o["b"])(),t=Object(s["d"])();return{store:e,router:t}},mounted:function(){Object(o["b"])().dispatch("refreshAllRecipesFromDB")}};n("25f0");p.render=u;var f=p,d=Object(r["C"])("data-v-42a43c3e");Object(r["r"])("data-v-42a43c3e");var b=Object(r["f"])("h1",null,"Reseptilista",-1),l={class:"reseptilistakomponentti"},j={key:0,class:"lista"};Object(r["p"])();var O=d((function(e,t,n,c,i,a){var u=Object(r["v"])("lisäysform"),o=Object(r["v"])("reseptikomponentti");return Object(r["o"])(),Object(r["d"])("div",null,[b,Object(r["f"])("div",l,[Object(r["f"])(u),c.reseptit?(Object(r["o"])(),Object(r["d"])("div",j,[(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(c.reseptit,(function(t){return Object(r["o"])(),Object(r["d"])("div",{class:"laatikko",key:t.id},[Object(r["f"])(o,{resepti:t,onClick:function(n){return e.$router.push({name:"Resepti",params:{id:t.id}})}},null,8,["resepti","onClick"])])})),128))])):Object(r["e"])("",!0)])])})),m=(n("b0c0"),Object(r["C"])("data-v-3c367840"));Object(r["r"])("data-v-3c367840");var v={class:"reseptikomponentti"};Object(r["p"])();var h=m((function(e,t,n,c,i,a){return Object(r["o"])(),Object(r["d"])("div",v,[Object(r["f"])("p",null,"Resepti "+Object(r["x"])(n.resepti.id),1),Object(r["f"])("h3",null,Object(r["x"])(n.resepti.name),1)])})),R={name:"reseptikomponentti",props:{resepti:Object},data:function(){return{}}};n("8388");R.render=h,R.__scopeId="data-v-3c367840";var g=R,_=Object(r["C"])("data-v-2feb1eb0");Object(r["r"])("data-v-2feb1eb0");var y={class:"formkomponentti"},w={class:"container"},E=Object(r["f"])("label",{for:"nimi"},"Reseptin nimi",-1),x=Object(r["f"])("label",{for:"ohjeet"},"Ohjeet",-1);Object(r["p"])();var k=_((function(e,t,n,c,i,a){return Object(r["o"])(),Object(r["d"])("div",y,[Object(r["f"])("div",w,[Object(r["f"])("form",null,[E,Object(r["B"])(Object(r["f"])("input",{id:"nimi",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.state.name=e})},null,512),[[r["z"],c.state.name]]),x,Object(r["B"])(Object(r["f"])("textarea",{id:"ohjeet",rows:"4","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.state.content=e})},null,512),[[r["z"],c.state.content]]),Object(r["f"])("button",{type:"button",onClick:t[3]||(t[3]=function(){return c.lisaaResepti.apply(c,arguments)})},"Lisää")])])])})),D={name:"lisäysform",setup:function(){var e=Object(r["s"])({name:"",content:""}),t=Object(o["b"])();function n(){e.name&&e.content&&(t.dispatch("addRecipe",{name:e.name,content:e.content}),e.name="",e.content="")}return{state:e,lisaaResepti:n}}};n("3929");D.render=k,D.__scopeId="data-v-2feb1eb0";var I=D,C=(n("7db0"),n("c740"),n("caad"),n("c975"),n("a434"),n("2532"),n("96cf"),n("1da1")),S=n("ca4f"),P=Object(o["a"])({state:{reseptit_used_id:[],reseptit:[]},mutations:{ADD_RECIPE:function(e,t){e.reseptit_used_id.push(t.id),e.reseptit.push(t)},DELETE_RECIPE:function(e,t){var n=e.reseptit_used_id.indexOf(t);e.reseptit_used_id.splice(n,1);var r=e.reseptit.findIndex((function(e){return e.id==t}));e.reseptit.splice(r,1)},REFRESH_ALL_RECIPES:function(e,t){e.reseptit=t},REFRESH_USED_ID:function(e,t){e.reseptit_used_id=t}},actions:{addRecipe:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.getters,i=c.getUnusedID,a=t,a.id=i,r("ADD_RECIPE",a),n.next=7,S.addRecipe(a);case 7:case"end":return n.stop()}}),n)})))()},deleteRecipe:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,S.deleteRecipe(t);case 3:r("DELETE_RECIPE",t);case 4:case"end":return n.stop()}}),n)})))()},refreshAllRecipesFromDB:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,S.getAllRecipes();case 3:for(r=t.sent,c=[],i=0;i<r.length;i++)c.push(r[i].id);n("REFRESH_ALL_RECIPES",r),n("REFRESH_USED_ID",c);case 8:case"end":return t.stop()}}),t)})))()}},getters:{getRecipe:function(e){return function(t){return e.reseptit.find((function(e){return e.id==t}))}},getUnusedID:function(e){for(var t=1;;t++)if(!e.reseptit_used_id.includes(t))break;return t}}}),A={name:"reseptilista",components:{reseptikomponentti:g,"lisäysform":I},setup:function(){var e=Object(r["s"])({}),t=Object(r["b"])((function(){return P.state.reseptit}));return{state:e,reseptit:t}}};n("2496");A.render=O,A.__scopeId="data-v-42a43c3e";var L=A,U=n("5b4d"),F=n.n(U),B=Object(r["C"])("data-v-21e065f6");Object(r["r"])("data-v-21e065f6");var H={class:"reseptisivu"},M=Object(r["f"])("div",{class:"imagecontainer"},[Object(r["f"])("img",{src:F.a})],-1);Object(r["p"])();var T=B((function(e,t,n,c,i,a){return Object(r["o"])(),Object(r["d"])("div",H,[M,Object(r["f"])("button",{onClick:t[1]||(t[1]=function(){return c.deleteRecipe.apply(c,arguments)})},"Delete"),Object(r["f"])("h3",null,Object(r["x"])(c.resepti.name),1),Object(r["f"])("p",null,Object(r["x"])(c.resepti.content),1)])})),V={name:"reseptisivu",setup:function(){var e=Object(r["s"])({}),t=Object(o["b"])(),n=Object(s["c"])(),c=Object(s["d"])(),i=Object(r["b"])((function(){return t.state.reseptit})),a=t.getters.getRecipe(n.params.id);function u(){console.log("Deleted "+a.name),t.dispatch("deleteRecipe",a.id),c.push("/")}return{state:e,reseptit:i,resepti:a,deleteRecipe:u}}};n("fa7f");V.render=T,V.__scopeId="data-v-21e065f6";var z=V,J=[{path:"/",name:"Reseptilista",component:L},{path:"/resepti/:id",name:"Resepti",component:z}],N=Object(s["a"])({history:Object(s["b"])(),routes:J}),$=N;Object(r["c"])(f).use(P).use($).mount("#app")},"5b4d":function(e,t,n){e.exports=n.p+"img/placeholder.93f74048.png"},8388:function(e,t,n){"use strict";n("f050")},ace8:function(e,t,n){},b640:function(e,t,n){e.exports=n.p+"img/logo.a9de5773.jpg"},b7ad:function(e,t,n){},ca4f:function(e,t,n){"use strict";n.r(t),n.d(t,"getAllRecipes",(function(){return a})),n.d(t,"addRecipe",(function(){return o})),n.d(t,"updateRecipe",(function(){return p})),n.d(t,"deleteRecipe",(function(){return d}));n("96cf");var r=n("1da1"),c=n("bc3a"),i=Object({NODE_ENV:"production",BASE_URL:"/"}).APISERVER||"https://reseptiprojekti-api.herokuapp.com";function a(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get(i+"/api/recipes");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.post(i+"/api/recipes",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.patch(i+"/api/recipes/".concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function d(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.delete(i+"/api/recipes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}},f050:function(e,t,n){},fa7f:function(e,t,n){"use strict";n("ace8")}});
//# sourceMappingURL=app.f72ca9aa.js.map